import { NextFunction, Response } from 'express';
import { AuthRequest, RequestError } from '../types';

export default (err: RequestError, req: AuthRequest, res: Response, next: NextFunction): Response => {
  const { message, error, status } = err;
  const code = status || 500;
  return res.status(code).send({
    error: error || [],
    message: message || 'INTERNAL SERVER ERROR',
    status: status || 500,
    timestamp: new Date()
  });
}